<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- yung mga to sir is already given ni emmet isang built in function ni vsCode to structure basic -->
    <!-- html  -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Italianno&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <!-- gumamit ako dito ng css for better alignments alignments -->
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }
      html {
        font-size: 62.5%;
      }
      .container {
        width: 100%;
        height: 100vh;
        display: grid;
        grid-template-rows: 10% 45% 40% 5%;
        font-size: 1.8rem;
        padding: 1rem;
      }
      .container > * {
        font-family: "Ubuntu", sans-serif;
        padding: 1rem;
      }
      header {
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;
      }
      header h1 {
        font-family: "Italianno", cursive;
        color: #830707;
      }

      .salary {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: 10% 90%;
        padding: 1rem;
        font-weight: 700;
      }

      .salary h3 {
        grid-column: 1/3;
        text-align: center;
      }
      input {
        padding: 1rem 2rem;
        border: solid 1px #3434;
        width: 100%;
        cursor: pointer;
      }
      table {
        width: 70%;
        margin-left: 3rem;
      }
      .box table {
        width: 40%;
      }
      .employee button {
        padding: 1rem 2rem;
        cursor: pointer;
      }
      footer {
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <header>
        <h1>Colegio de San Gabriel Arcangel</h1>
        <p>Payroll Register</p>
        <p>September 1-30, 2021</p>
      </header>
      <div class="employee">
        <h3 style="text-align: center">Employee Information</h3>
        <div class="box">
          <table>
            <tr>
              <td>Employee Number</td>
              <td>
                <input
                  autocomplete="off"
                  id="employeeNumber"
                  name="number"
                  type="text"
                />
              </td>
            </tr>
            <tr>
              <td>Employee Name</td>
              <td>
                <input autocomplete="off" id="employeeName" type="text" />
              </td>
            </tr>
            <tr>
              <td>College</td>
              <td>
                <input autocomplete="off" id="college" type="text" />
              </td>
            </tr>
            <tr>
              <td>Department</td>
              <td>
                <input autocomplete="off" id="department" type="text" />
              </td>
            </tr>
            <td>Designation</td>
            <td><input autocomplete="off" id="designation" type="text" /></td>
            <tr>
              <td>Days Present</td>
              <td>
                <input autocomplete="off" id="dayPresent" type="text " />
              </td>
            </tr>
            <tr>
              <td>
                <button disabled onclick="computePayroll()" id="compute">
                  Compute Payment
                </button>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="salary">
        <h3>Salary Information</h3>
        <table>
          <tr>
            <th colspan="2">Rates and Gross Pay</th>
          </tr>
          <tr>
            <td>Monthly Rates</td>
            <td><input disabled type="text" id="monthly" /></td>
          </tr>
          <tr>
            <td>Daily Rates</td>
            <td><input disabled type="text" id="daily" /></td>
          </tr>
          <tr>
            <td>Hourly Rates</td>
            <td><input disabled type="text" id="hourly" /></td>
          </tr>
          <tr>
            <td>Gross Pay</td>
            <td><input disabled type="text" id="grossPay" /></td>
          </tr>
          <tr>
            <td>Net Pay</td>
            <td><input disabled type="text" id="netPay" /></td>
          </tr>
        </table>
        <table>
          <tr>
            <th colspan="2">Statutory Deduction</th>
          </tr>
          <tr>
            <td>HMDF Contribution</td>
            <td><input disabled type="text" id="hmdf" /></td>
          </tr>
          <tr>
            <td>PhilHealth Contribution</td>
            <td><input disabled type="text" id="philhealth" /></td>
          </tr>
          <tr>
            <td>SSS Contribution</td>
            <td><input disabled type="text" id="sss" /></td>
          </tr>
          <tr>
            <td>Total Deductions</td>
            <td><input disabled type="text" id="totalDeduction" /></td>
          </tr>
        </table>
      </div>
      <footer>
        <h2>Programmed By Jerome Ramos</h2>
      </footer>
    </main>

    <!-- <script src="another.js"></script> -->
    <script>
      // user inputs ito yung mga inputs ni user
      // yung querySelector all pinipick nito lahat ng element na nasatisfy yung condition sa loob ng
      // parenthesis then ilalagay lahat ng na select sa iisang variable nagiging list of array to
      const allInputs = document.querySelectorAll(".box input");
      const designation = document.getElementById("designation");
      const daysPresent = document.getElementById("dayPresent");
      const computePayment = document.getElementById("compute");
      // display results ito yung sa magdidisplay ng result
      const monthly = document.getElementById("monthly");
      const daily = document.getElementById("daily");
      const hourly = document.getElementById("hourly");
      const grossPay = document.getElementById("grossPay");
      const netPay = document.getElementById("netPay");
      // statury variables ito yung sa magdidisplay ng result
      const hmdf = document.getElementById("hmdf");
      const philHealth = document.getElementById("philhealth");
      const sss = document.getElementById("sss");
      const totalDeduction = document.getElementById("totalDeduction");

      // counter para malaman ng system kung kelan mag eenabled si disabled compute payment
      let ctr = 0;
      // yung foreach method ay parang for loop, nag run sa lahat ng sinelect
      // kong input element tas binigyan ng click event para di ko na ulit ulitin
      // gumamit ako dito ng arrow function na same sa regular na function pero mas makili
      // yung event na binigay ko sa bawat input ay keydown at after nun ma didisable yung input na yun
      // may validation din rito if ever na mali input di mag lalive yung button
      // yung e.currentTarget ay nagdedetermine kung saan na yung selected element dun sa array of elements
      // ng allInputs
      // yung disabled to disable lang yung na keydown na input na pumasa sa validation
      allInputs.forEach((userInput) => {
        userInput.addEventListener("keydown", (e) => {
          if (e.keyCode === 13 && e.currentTarget.value !== "") {
            if (
              e.currentTarget.id === "dayPresent" &&
              isNaN(parseInt(e.currentTarget.value))
            ) {
              console.log("true");
              e.currentTarget.placeholder = "Input Should Be a Number!";
              e.currentTarget.value = "";
            } else {
              console.log("false");
              e.currentTarget.disabled = true;
              ctr++;
              if (ctr === 6) {
                computePayment.disabled = false;
              }
            }
          } else {
            e.currentTarget.placeholder = "Input Should Not Be Empty!";
          }
        });
      });

      // gumawa ako ng function na magchecheck sa grosspay at para malaman ang sss contribution
      // ginawa ko to para di ko na ulit ulitin ang buong if else for every cases
      // tinatawag ko na lang tong function na to para mas maikli ang code
      // may parameter din to na gagamitin ko para malaman kung ano ang value ng gross pay for every cases
      function checkSSS(grossPay) {
        let grossPayInt = parseFloat(grossPay.value.slice(1));
        if (grossPayInt >= 19750) {
          sss.value = `₱ 900`;
        } else if (grossPayInt >= 19250 && grossPayInt <= 19749.99) {
          sss.value = `₱ 877.5`;
        } else if (grossPayInt >= 18750 && grossPayInt <= 19249.99) {
          sss.value = `₱ 855`;
        } else if (grossPayInt >= 18250 && grossPayInt <= 18749.99) {
          sss.value = `₱ 832`;
        } else if (grossPayInt >= 17750 && grossPayInt <= 18249.99) {
          sss.value = `₱ 810`;
        } else if (grossPayInt >= 17250 && grossPayInt <= 17749.99) {
          sss.value = `₱ 787.50`;
        } else if (grossPayInt >= 16750 && grossPayInt <= 17249.99) {
          sss.value = `₱ 765`;
        } else if (grossPayInt >= 16250 && grossPayInt <= 16749.99) {
          sss.value = `₱ 742.50`;
        } else if (grossPayInt >= 15750 && grossPayInt <= 16249.99) {
          sss.value = `₱ 720`;
        } else if (grossPayInt >= 15250 && grossPayInt <= 15749.99) {
          sss.value = `₱ 697.50`;
        } else if (grossPayInt >= 14750 && grossPayInt <= 15249.99) {
          sss.value = `₱ 675`;
        } else if (grossPayInt >= 14250 && grossPayInt <= 14749.99) {
          sss.value = `₱ 652.50`;
        } else if (grossPayInt >= 13750 && grossPayInt <= 14249.99) {
          sss.value = `₱ 630`;
        } else if (grossPayInt >= 13250 && grossPayInt <= 13749.99) {
          sss.value = `₱ 607.50`;
        } else if (grossPayInt >= 12750 && grossPayInt <= 13249.99) {
          sss.value = `₱ 585`;
        } else if (grossPayInt >= 12250 && grossPayInt <= 12749.99) {
          sss.value = `₱ 562.50`;
        } else if (grossPayInt >= 11750 && grossPayInt <= 12249.99) {
          sss.value = `₱ 540`;
        } else if (grossPayInt >= 11250 && grossPayInt <= 11749.99) {
          sss.value = `₱ 517.50`;
        } else if (grossPayInt >= 10750 && grossPayInt <= 11249.99) {
          sss.value = `₱ 495`;
        } else if (grossPayInt >= 10250 && grossPayInt <= 10749.99) {
          sss.value = `₱ 472.50`;
        } else if (grossPayInt >= 9750 && grossPayInt <= 10249.99) {
          sss.value = `₱ 450`;
        } else if (grossPayInt >= 9250 && grossPayInt <= 9749.99) {
          sss.value = `₱ 427.50`;
        } else if (grossPayInt >= 8750 && grossPayInt <= 9249.99) {
          sss.value = `₱ 405`;
        } else if (grossPayInt >= 8250 && grossPayInt <= 8749.99) {
          sss.value = `₱ 382.50`;
        } else if (grossPayInt >= 7750 && grossPayInt <= 8249.99) {
          sss.value = `₱ 360`;
        } else if (grossPayInt >= 7250 && grossPayInt <= 7749.99) {
          sss.value = `₱ 337.50`;
        } else if (grossPayInt >= 6750 && grossPayInt <= 7249.99) {
          sss.value = `₱ 315`;
        } else if (grossPayInt >= 6250 && grossPayInt <= 6749.99) {
          sss.value = `₱ 292.50`;
        } else if (grossPayInt >= 5750 && grossPayInt <= 6249.99) {
          sss.value = `₱ 270`;
        } else if (grossPayInt >= 5250 && grossPayInt <= 5749.99) {
          sss.value = `₱ 247.50`;
        } else if (grossPayInt >= 4750 && grossPayInt <= 5249.99) {
          sss.value = `₱ 225`;
        } else if (grossPayInt >= 4250 && grossPayInt <= 4749.99) {
          sss.value = `₱ 202.50`;
        } else if (grossPayInt >= 3750 && grossPayInt <= 4249.99) {
          sss.value = `₱ 180`;
        } else if (grossPayInt >= 3250 && grossPayInt <= 3749.99) {
          sss.value = `₱ 157.50`;
        } else if (grossPayInt < 3250) {
          sss.value = `₱ 135`;
        }
      }

      // about sa toFixed para magkaroon ng two decimal places while yung parse float for conversion
      // same lang din sa parseInt pero tumatanggap ng decimal places
      // yung keyword na slice is just to remove the peso sign sa unahan
      // gumamit din ako ng backticks para di ko na kailangan maglagay ng plus sign at space
      function computePayroll() {
        switch (designation.value) {
          case "Dean":
          case "dean":
            monthly.value = `₱ 25000`;
            daily.value = `₱ 1136.36`;
            hourly.value = `₱ 142.05`;
            grossPay.value =
              "₱ " + (parseFloat(daysPresent.value) * 1136.36).toFixed(2);
            hmdf.value = `₱ 100.00`;
            philHealth.value = `₱ 200.00`;
            checkSSS(grossPay);
            totalDeduction.value =
              "₱ " +
              (parseFloat(hmdf.value.slice(1)) +
                parseFloat(philHealth.value.slice(1)) +
                parseFloat(sss.value.slice(1)));
            netPay.value =
              "₱ " +
              (
                parseFloat(grossPay.value.slice(1)) -
                parseFloat(totalDeduction.value.slice(1))
              ).toFixed(2);

            break;
          case "Program Head":
          case "program head":
            monthly.value = `₱ 20000`;
            daily.value = `₱ 909.09`;
            hourly.value = `₱ 113.64`;
            grossPay.value =
              "₱" + (parseFloat(daysPresent.value) * 909.09).toFixed(2);
            hmdf.value = `₱ 100.00`;
            philHealth.value = `₱ 200.00`;
            checkSSS(grossPay);
            totalDeduction.value =
              "₱ " +
              (parseFloat(hmdf.value.slice(1)) +
                parseFloat(philHealth.value.slice(1)) +
                parseFloat(sss.value.slice(1)));
            netPay.value =
              "₱ " +
              (
                parseFloat(grossPay.value.slice(1)) -
                parseFloat(totalDeduction.value.slice(1))
              ).toFixed(2);
            break;
          case "Assistant Professor":
          case "assistant professor":
            monthly.value = `₱ 15000`;
            daily.value = `₱ 681.82`;
            hourly.value = `₱ 85.23`;
            grossPay.value =
              "₱" + (parseFloat(daysPresent.value) * 681.82).toFixed(2);
            hmdf.value = `₱ 100.00`;
            philHealth.value = `₱ 200.00`;
            checkSSS(grossPay);
            totalDeduction.value =
              "₱ " +
              (parseFloat(hmdf.value.slice(1)) +
                parseFloat(philHealth.value.slice(1)) +
                parseFloat(sss.value.slice(1)));
            netPay.value =
              "₱ " +
              (
                parseFloat(grossPay.value.slice(1)) -
                parseFloat(totalDeduction.value.slice(1))
              ).toFixed(2);
            break;
          case "Instructor":
          case "instructor":
            monthly.value = `₱ 10000`;
            daily.value = `₱ 454.55`;
            hourly.value = `₱ 56.82`;
            grossPay.value =
              "₱" + (parseFloat(daysPresent.value) * 454.55).toFixed(2);
            hmdf.value = `₱ 100.00`;
            philHealth.value = `₱ 200.00`;
            checkSSS(grossPay);
            totalDeduction.value =
              "₱ " +
              (parseFloat(hmdf.value.slice(1)) +
                parseFloat(philHealth.value.slice(1)) +
                parseFloat(sss.value.slice(1)));
            netPay.value =
              "₱ " +
              (
                parseFloat(grossPay.value.slice(1)) -
                parseFloat(totalDeduction.value.slice(1))
              ).toFixed(2);
            break;
          default:
            designation.placeholder = "Invalid Input Position";
            designation.value = "";
            designation.disabled = false;
        }
      }
    </script>
  </body>
</html>
